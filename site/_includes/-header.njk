{%- from "components/tagList.njk" import tagList with context -%}
<header>
  <nav>
    <div class="nav-row">
      <div class="nav-home"><a href="{{ "/" | url }}">{{ site.title }}</a></div>
    </div>
    <div class="nav-categories">
      <a class="{{ 'nav-active' if '/posts' in page.url }}" href="{{ "/posts/" | url }}">/posts</a>
      <a class="{{ 'nav-active' if '/about' in page.url }}" href="{{ "/about/" | url }}">/about</a>
      <a class="{{ 'nav-active' if '/now' in page.url }}" href="{{ "/now/" | url }}">/now</a>
      <a class="{{ 'nav-active' if '/uses' in page.url }}" href="{{ "/uses/" | url }}">/uses</a>
      <a class="{{ 'nav-active' if '/recipes' in page.url }}" href="{{ "/recipes/" | url }}">/recipes</a>
      <a class="{{ 'nav-active' if '/music' in page.url }}" href="{{ "/music/" | url }}">/music</a>
      <a class="{{ 'nav-active' if '/books' in page.url }}" href="{{ "/books/" | url }}">/books</a>
      <a class="{{ 'nav-active' if '/links' in page.url }}" href="{{ "/links/" | url }}">/links</a>
      <a class="{{ 'nav-active' if '/search' in page.url }}" href="{{ "/search/" | url }}">/search</a>
    </div>
  </nav>
  {%- if cover %}
  <div class="cover">
    <img src="{{ cover | url }}" alt="" loading="eager">
    <h1>{{ title }}</h1>
  </div>
  {%- else %}
    <h1>{{ title }}</h1>
  {%- endif %}
  <div class="header-meta">
    {%- if date and not omitMetadata -%}
      <span>
        {{ date | formatDate("MMMM D, YYYY") }}
        {%- if updated and not omitMetadata %}
        (Updated {{ updated | formatDate("MMMM D, YYYY") }})
        {%- endif -%}
      </span>
    {%- endif -%}
    {{ tagList(tags.slice(1)) }}
    {%- if coverInfo -%}
      <span class="cover-info">Image: {{ coverInfo | markdown | safe }}</span>
    {%- endif -%}
  </div>
</header>
